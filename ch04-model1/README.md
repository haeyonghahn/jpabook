## 데이터 중심 설계와 객체 중심 설계의 차이점
![uml상세](https://github.com/haeyonghahn/jpabook/blob/master/images/uml%EC%83%81%EC%84%B8.PNG)   

ch04-model1의 엔티티 방식은 객체 설계를 테이블 설계에 맞춘 방법이다. 특히 테이블의 외래 키를 객체에 그대로 가져온 부분이 문제다. 왜냐하면, 
관계형 데이터베이스는 연관된 객체를 찾을 때 외래 키를 사용해서 조인하면 되지만 객체에는 조인이라는 기능이 없다. 객체는 연관된 객체를 찾을 때 참조를 사용해야 한다.

설계한 엔티티로 데이터베이스 스키마 자동 생성하기를 실행해보면 ERD에 나온대로 테이블이 생성된다. 하지만 객체에서 참조 대신에 데이터베이스의 외래 키를 그대로 가지고 있으므로
`order.getMember()` 처럼 객체 그래프를 탐색할 수 없고 객체의 특성도 살릴 수 없다. 그리고 객체가 다른 객체를 참조하지도 않으므로 UML도 잘못되었다. 
객체는 외래 키 대신에 참조를 사용해야 한다. 이렇게 외래 키만 가지고 있으면 연관된 엔티티를 찾을 때 외래 키로 데이터베이스를 다시 조회해야 한다. 
예를 들어 주문을 조회한 다음 주문과 연관된 회원을 조회하려면 다음처럼 한번 더 조회해야 한다.
```java
Order order = em.find(Order.class, orderId);
Member member = em.find(Member.class, order.getMemberId()); //외래 키로 다시 조회
```

객체는 참조를 사용해서 연관관계를 조회할 수 있다. 따라서 다음처럼 참조를 사용하는 것이 객체 지향적인 방법이다.
```java
Order order = em.find(Order.class, orderId);
Member member = order.getMember(); //참조 사용
```
정리하자면 객체는 참조를 사용해서 연관된 객체를 찾고 테이블은 외래 키를 사용해서 연관된 테이블을 찾으므로 둘 사이에는 큰 차이가 있다.
